/*! woocommerce-name-your-price 2.8.1 */

jQuery(document).ready(function(g){function w(o,e){return void 0===e&&(e=""),accounting.formatMoney(o,{symbol:e,decimal:woocommerce_nyp_params.currency_format_decimal_sep,thousand:woocommerce_nyp_params.currency_format_thousand_sep,precision:woocommerce_nyp_params.currency_format_num_decimals,format:woocommerce_nyp_params.currency_format}).trim()}g.fn.woocommerce_nyp_update=function(){if(g(this).on("woocommerce-nyp-update",function(){var o=g(this),e=o.find(".nyp"),i=o.find(".nyp-input"),n=o.find(":submit"),r=o.find(".ajax_add_to_cart"),t=i.val(),a=o.find(".woocommerce-nyp-message");a.length||g('<div class="woocommerce-nyp-message woocommerce-error"></div>').hide().prependTo(e);var c,m=e.data("minimum-error"),p="%%MINIMUM%%",d=!1,s="",_=(c=t,Math.abs(parseFloat(accounting.unformat(c,woocommerce_nyp_params.currency_format_decimal_sep)))),u=parseFloat(e.data("min-price")),l=parseFloat(e.data("max-price")),f=parseFloat(e.data("annual-minimum")),y=o.find(".nyp-period"),h=y.val();0<f?(form_annulualized_price=_*woocommerce_nyp_params.annual_price_factors[h],form_annulualized_price<f&&(s=w(d=f/woocommerce_nyp_params.annual_price_factors[h],woocommerce_nyp_params.currency_format_symbol)+" / "+y.find('option[value="'+h+'"]').text())):_<u?s=w(d=u,woocommerce_nyp_params.currency_format_symbol):l<_&&(d=l,m=e.data("maximum-error"),p="%%MAXIMUM%%",s=w(l,woocommerce_nyp_params.currency_format_symbol)),""!=g.trim(t)&&i.val(w(_)),r.length&&r.data(i.attr("name"),w(_)),d?(n.prop("disabled",!0),m=m.replace(p,s),a.html(m).slideDown(function(){i.focus()})):(n.prop("disabled",!1),a.slideUp(),g(this).find("#product-addons-total").data("price",_),o.trigger("woocommerce-product-addons-update"),e.data("price",_),o.trigger("woocommerce-nyp-updated-item"),g("body").trigger("woocommerce-nyp-updated"))}),g(this).on("change",".nyp-input, .nyp-period",function(){g(this).closest(".cart, .nyp-product").trigger("woocommerce-nyp-update")}),g(this).find(".nyp-input").trigger("change"),g(this).hasClass("variations_form")){var o=g(this),i=g(this).find("button.single_add_to_cart_button"),n=g(this).find(".nyp"),r=n.find(".nyp-input"),t=n.find(".minimum-price"),a=n.find(".subscription-details"),c=i.html();n.hide(),t.hide(),o.on("found_variation",function(o,e){null!=typeof e.is_nyp&&1==e.is_nyp?(i.html(e.add_to_cart_text),posted_price=e.posted_price,initial_price=e.initial_price,minimum_price=e.minimum_price,""!=g.trim(posted_price)?r.val(w(posted_price)):""!=g.trim(initial_price)?r.val(w(initial_price)):r.val(""),a.length&&e.subscription_terms&&a.html(e.subscription_terms),e.minimum_price_html?t.html(e.minimum_price_html).show():t.hide(),n.data("min-price",minimum_price).slideDown(),g(this).find("#product-addons-total").data("price",minimum_price),g(this).trigger("woocommerce-product-addons-update")):(i.html(c),n.slideUp())}).on("reset_image",function(o){i.html(c),n.slideUp()}).on("click",".reset_variations",function(o){i.html(c),n.slideUp()}),g(this).find(".variations select").trigger("change")}},g("body").on("quick-view-displayed",function(){g("body").find(".cart:not(.cart_group)").each(function(){g(this).woocommerce_nyp_update()})}),g("body .component").on("wc-composite-component-loaded",function(){g(this).find(".cart:not(.cart_group)").each(function(){g(this).woocommerce_nyp_update()})}),g("body").find(".cart:not(.cart_group, .grouped_form)").each(function(){g(this).woocommerce_nyp_update()}),g("body .grouped_form").find(".nyp-product").each(function(){g(this).woocommerce_nyp_update()})});